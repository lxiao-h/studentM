(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51ea9f1a"],{"448f":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"studentContainer"},[e("StudentList",{attrs:{tableData:t.dataTable},on:{editStu:t.editStu,delStu:t.delStu}}),e("StuInfo",{attrs:{dialogVisible:t.isShow,stuInfo:t.stuInfo},on:{subInfo:t.subInfo,cancleInfo:t.cancleInfo}})],1)},s=[],n=function(){var t=this,e=t._self._c;return e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[e("el-table-column",{attrs:{fixed:"",prop:"sNo",label:"学号",width:"150"}}),e("el-table-column",{attrs:{prop:"name",label:"姓名",width:"120"}}),e("el-table-column",{attrs:{prop:"sex1",label:"性别",width:"120"}}),e("el-table-column",{attrs:{prop:"email",label:"邮箱",width:"200"}}),e("el-table-column",{attrs:{prop:"age",label:"年龄",width:"120"}}),e("el-table-column",{attrs:{prop:"phone",label:"手机号",width:"150"}}),e("el-table-column",{attrs:{prop:"address",label:"住址"}}),e("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.deleteStu(a.row)}}},[t._v("删除")]),e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.editStu(a.row)}}},[t._v("编辑")])]}}])})],1)},o=[],i={name:"student",methods:{deleteStu(t){this.$emit("delStu",t)},editStu(t){this.$emit("editStu",t)}},created(){this.list=this.tableData},computed:{},data(){return{}},props:{tableData:Array}},u=i,r=(a("c556"),a("2877")),d=Object(r["a"])(u,n,o,!1,null,null,null),c=d.exports,f=a("49e5"),b=function(){var t=this,e=t._self._c;return e("div",{staticClass:"stuInfo"},[e("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"50%","line-height":"0","before-close":t.handleClose}},[e("el-radio-group",{attrs:{size:"small"},model:{value:t.labelPosition,callback:function(e){t.labelPosition=e},expression:"labelPosition"}},[e("el-radio-button",{attrs:{label:"left"}},[t._v("左对齐")]),e("el-radio-button",{attrs:{label:"right"}},[t._v("右对齐")]),e("el-radio-button",{attrs:{label:"top"}},[t._v("顶部对齐")])],1),e("el-form",{attrs:{"label-position":t.labelPosition,"label-width":"80px",model:t.stuInfo}},[e("el-form-item",{attrs:{label:"学号"}},[e("el-input",{attrs:{readonly:""},model:{value:t.stuInfo.sNo,callback:function(e){t.$set(t.stuInfo,"sNo",e)},expression:"stuInfo.sNo"}})],1),e("el-form-item",{attrs:{label:"姓名"}},[e("el-input",{model:{value:t.stuInfo.name,callback:function(e){t.$set(t.stuInfo,"name",e)},expression:"stuInfo.name"}})],1),e("el-form-item",{attrs:{label:"性别"}},[[e("el-radio",{attrs:{label:0},model:{value:t.stuInfo.sex,callback:function(e){t.$set(t.stuInfo,"sex",e)},expression:"stuInfo.sex"}},[t._v("男")]),e("el-radio",{attrs:{label:1},model:{value:t.stuInfo.sex,callback:function(e){t.$set(t.stuInfo,"sex",e)},expression:"stuInfo.sex"}},[t._v("女")])]],2),e("el-form-item",{attrs:{label:"邮箱"}},[e("el-input",{model:{value:t.stuInfo.email,callback:function(e){t.$set(t.stuInfo,"email",e)},expression:"stuInfo.email"}})],1),e("el-form-item",{attrs:{label:"年龄"}},[e("el-input",{model:{value:t.stuInfo.age,callback:function(e){t.$set(t.stuInfo,"age",e)},expression:"stuInfo.age"}})],1),e("el-form-item",{attrs:{label:"手机号"}},[e("el-input",{model:{value:t.stuInfo.phone,callback:function(e){t.$set(t.stuInfo,"phone",e)},expression:"stuInfo.phone"}})],1),e("el-form-item",{attrs:{label:"住址"}},[e("el-input",{model:{value:t.stuInfo.address,callback:function(e){t.$set(t.stuInfo,"address",e)},expression:"stuInfo.address"}})],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.cancleInfo}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.subInfo}},[t._v("修 改")])],1)],1)],1)},p=[],m={data(){return{labelPosition:"right"}},props:{dialogVisible:Boolean,stuInfo:{}},methods:{handleClose(){this.$emit("cancleInfo")},subInfo(){this.$emit("subInfo",this.stuInfo)},cancleInfo(){this.$emit("cancleInfo")}},created(){}},h=m,I=(a("999f"),Object(r["a"])(h,b,p,!1,null,"0e6172ba",null)),g=I.exports,S={data(){return{dataTable:[],isShow:!1,stuInfo:{}}},components:{StudentList:c,StuInfo:g},beforeCreate(){f["a"].getAllStudent().then(t=>{this.dataTable=t.data.map(t=>({...t,sex1:0===t.sex?"男":"女",age:(new Date).getFullYear()-parseInt(t.birth.toString().slice(0,4),0)}))})},created(){},methods:{delStu(t){console.log(t),f["a"].deleteBySno("sNo="+t.sNo).then(t=>{console.log(t),"success"===t.status?(alert("删除成功"),f["a"].getAllStudent().then(t=>{this.dataTable=t.data.map(t=>({...t,sex1:0===t.sex?"男":"女",age:(new Date).getFullYear()-parseInt(t.birth.toString().slice(0,4),0)}))})):console.log(t.msg)})},editStu(t){this.stuInfo=t,this.isShow=!0},subInfo(t){const e=t;this.isShow=!1;const a=(new Date).getFullYear()-t.age;e.birth=a,f["a"].editStu(`sNo=${e.sNo}&name=${e.name}&sex=${e.sex}&birth=${e.birth}&phone=${e.phone}&address=${e.address}&email=${e.email}`).then(t=>{"success"===t.status?f["a"].getAllStudent().then(t=>{this.dataTable=t.data.map(t=>({...t,sex1:0===t.sex?"男":"女",age:(new Date).getFullYear()-parseInt(t.birth.toString().slice(0,4),0)}))}):console.log(t.msg)})},cancleInfo(){console.log("取消了"),this.isShow=!1}}},x=S,$=Object(r["a"])(x,l,s,!1,null,"6d37f1dc",null);e["default"]=$.exports},"49e5":function(t,e,a){"use strict";var l=a("24e5");const s="liuhaha_1607006599038";e["a"]={getAllStudent(){return l["a"].get("/api/student/findAll?appkey="+s)},getByPage(t){return l["a"].get(`/api/student/findByPage?appkey=${s}&${t}`)},deleteBySno(t){return l["a"].get(`/api/student/delBySno?appkey=${s}&${t}`)},editStu(t){return l["a"].get(`/api/student/updateStudent?appkey=${s}&${t}`)},addStu(t){return l["a"].get(`/api/student/addStudent?appkey=${s}&${t}`)}}},"57df":function(t,e,a){},"999f":function(t,e,a){"use strict";a("57df")},afe9:function(t,e,a){},c556:function(t,e,a){"use strict";a("afe9")}}]);
//# sourceMappingURL=chunk-51ea9f1a.0356695f.js.map